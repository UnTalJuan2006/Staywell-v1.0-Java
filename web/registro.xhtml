<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Registro de Usuario</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                background: url("#{request.contextPath}/img/fondo.png") no-repeat center center fixed;
                background-size: cover;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                margin: 0;
                overflow: hidden;
            }

            .form-container {
                background-color: rgba(255, 255, 255, 0.05);
                border: 2px solid rgba(255, 255, 255, 0.3);
                border-radius: 20px;
                padding: 40px 30px;
                backdrop-filter: blur(15px);
                box-shadow: 0px 0px 40px rgba(255, 255, 255, 0.1);
                max-width: 400px;
                width: 100%;
                animation: slideUp 0.8s ease-out forwards;
                opacity: 0;
                transform: translateY(50px);
            }

            @keyframes slideUp {
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            h2 {
                text-align: center;
                margin-bottom: 25px;
                color: white;
            }

            .input-box {
                display: flex;
                align-items: center;
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.3);
                border-radius: 10px;
                padding: 0 12px;
                margin-bottom: 18px;
                width: 100%;
                height: 45px;
                box-sizing: border-box;
                box-shadow: 0px 0px 30px #ededed;
            }

            .input-box input {
                flex: 1;
                background: transparent;
                border: none;
                outline: none;
                color: white;
                font-size: 16px;
                padding-left: 8px;
                width: 100%;
                height: 100%;
                box-sizing: border-box;
            }

            .input-box input::placeholder {
                color: rgba(255, 255, 255, 0.6);
            }

            .btn-submit {
                width: 100%;
                padding: 12px;
                background-color: #007bff;
                color: white;
                border: none;
                border-radius: 8px;
                cursor: pointer;
                font-weight: bold;
                font-size: 15px;
                margin-top: 10px;
            }

            .btn-submit:hover {
                background-color: #0056b3;
            }

            .mensaje-error {
                color: #ff6b6b;
                text-align: center;
                margin-bottom: 10px;
            }

            .mensaje-exito {
                color: #4ade80;
                text-align: center;
                margin-bottom: 10px;
            }

            p {
                text-align: center;
                color: white;
                margin-top: 15px;
            }

            a {
                color: #c084fc;
                text-decoration: none;
            }

            a:hover {
                text-decoration: underline;
            }
        </style>
    </h:head>

    <h:body>
        <div class="form-container">
            <h2>Registro de Usuario</h2>

            <!-- mensajes JSF -->
            <h:messages globalOnly="true" styleClass="mensaje-error" infoClass="mensaje-exito"/>

            <h:form>
                <div class="input-box">
                    <h:inputText id="nombre" value="#{usuarioBean.usuario.nombre}" 
                                 required="true" requiredMessage="Debe ingresar un nombre">
                        <f:passThroughAttribute name="placeholder" value="Nombre"/>
                    </h:inputText>


                </div>

                <div class="input-box">
                    <h:inputText id="email" value="#{usuarioBean.usuario.email}" 
                                 required="true" requiredMessage="Debe ingresar un correo">
                        <f:passThroughAttribute name="placeholder" value="Email"/>
                        <!-- Valida que contenga al menos una @ -->
                        <f:validateRegex pattern=".+@.+" 
                                         />
                    </h:inputText>
                </div>



                <div class="input-box">
                    <h:inputText id="telefono" value="#{usuarioBean.usuario.telefono}" 
                                 required="true" requiredMessage="Debe ingresar un teléfono">
                        <f:passThroughAttribute name="placeholder" value="Telefono"/>
                    </h:inputText>

                </div>

                <div class="input-box">
                    <h:inputText id="direccion" value="#{usuarioBean.usuario.direccion}" 
                                 required="true" requiredMessage="Debe ingresar una dirrecion">
                        <f:passThroughAttribute name="placeholder" value="Dircción"/>
                    </h:inputText>
                </div>


                <div class="input-box">
                    <h:inputSecret id="password" value="#{usuarioBean.usuario.password}" 
                                   required="true" requiredMessage="Una Mayúscula, una minúscula, un número (4 a 10 caracteres)" >
                        <f:passThroughAttribute name="placeholder" value="Contraseña"/>

                    </h:inputSecret>

                </div>

                <h:commandButton value="Registrar" action="#{usuarioBean.agregar}" 
                                 styleClass="btn-submit"/>
            </h:form>

            <p>
                ¿Ya tienes cuenta? 
                <h:link outcome="login.xhtml" value="Inicia sesión"/>
            </p>
        </div>
    </h:body>
</html>
